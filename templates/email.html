{% extends "base.html" %}
{% block content %}

<div class="container">
<h2>Email Generator</h2>

<form method="POST">
<textarea name="topic" rows="5" placeholder="Enter email topic..."></textarea>

<select name="tone">
<option>Professional</option>
<option>Friendly</option>
<option>Formal</option>
</select>

<button type="submit">Generate</button>
</form>

{% if email %}
<h3>Output</h3>
<pre id="outputText" class="output-box">{{ email }}</pre>
<button onclick="copyText()">Copy</button>
{% endif %}

{% if limit %}
<div style="
    background:#020617;
    border:1px solid #1f2937;
    padding:25px;
    border-radius:12px;
    text-align:center;
    margin-top:20px;
">
    <h3 style="color:#f87171;">Daily Limit Reached</h3>
    <p>You have used all free requests today.</p>

    <a href="/pro" style="
        display:inline-block;
        background:gold;
        padding:14px 28px;
        border-radius:10px;
        text-decoration:none;
        color:black;
        font-weight:bold;
        margin-top:10px;
    ">
        Upgrade to Pro ðŸš€
    </a>
</div>
{% endif %}

</div>

<script>
function copyText(){
  const el = document.getElementById("outputText");
  if(!el){
    alert("Nothing to copy yet!");
    return;
  }
  navigator.clipboard.writeText(el.innerText);
  alert("Copied!");
}
</script>

{% endblock %}
